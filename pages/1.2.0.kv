#:kivy 2.1.0

#:set this_file '1.2.0'

#:set point_size 6
#:set offset point_size / 2
#:set line_width 1.1

RootWidget:
    # import container
    container: container

    # fill the container
    BoxLayout:
        id: container
        orientation: 'vertical'
        padding: 0
        spacing: 3

        # fill the canvas
        GridLayout:
            rows: 2
            orientation: 'bt-rl' # Slider needs to be specified first, but display order can be changed

            BoxLayout:
                size_hint: (1, 0.075)
                Label:
                    size_hint: (0.2, None)  # To leave 20% free to the left
                Slider:
                    id: wm
                    min: 1
                    max: 15
                    value: 1
                    step: 0.1
                    orientation: 'horizontal'
                Label:
                    size_hint: (0.2, None)    # To leave 20% free to the right
            BoxLayout:
                size_hint: (1, 0.925)
                canvas:
                    Line:
                        dash_length: 2
                        dash_offset: wm.max - wm.value
                        bezier: (root.width/10, root.height * 6 / 8, root.width / 4, root.height, root.width * 3 / 4 , root.height / 2, root.width*9/10, root.height * 3 / 4)
                    Color:
                        rgba: rojo
                    Ellipse:  # Left point
                        pos: root.width/10 - offset, root.height * 6 / 8 - offset
                        size: point_size, point_size
                    Color:
                        rgba: verde
                    Ellipse:  # Right oint
                        pos: root.width*9/10 - offset, root.height * 3 / 4 - offset
                        size: point_size, point_size
                Label:
                    #center: root.center
                    text_size: self.size
                    halign: 'center'
                    valign: 'top'
                    text: 'Cantidad de puntos: 10^{}'.format(int(wm.value)) if wm.value != wm.max else f"Infinitos puntos!\n Esto es una l√≠nea ;)"
                    markup: True


        RstDocument:
            canvas.before:
                Color:
                    rgba: notes_background_color
                Rectangle:
                    pos: self.pos
                    size: self.size
            source: rst_files_folder + this_file + ".rst"
